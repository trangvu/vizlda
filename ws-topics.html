<html>
<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="twic.ico">
    <link rel="stylesheet" type="text/css" href="css/twic.css">
    <link rel="stylesheet" type="text/css"
          href="http://fonts.googleapis.com/css?family=Podkova:400|Inconsolata:400,700">
    <!--<link rel="stylesheet" href="css/bootstrap.min.css" media="screen">-->
    <script type="text/javascript" src="lib/d3.min.js"></script>
    <script type="text/javascript" src="lib/d3-tip.js"></script>
    <script type="text/javascript" src="lib/queue.min.js"></script>
    <script type="text/javascript" src="lib/textFlow.js"></script>
    <script type="text/javascript" src="lib/svg_helper_functions.js"></script>
    <script type="text/javascript" src="lib/class_syntax.js"></script>
    <script type="text/javascript" src="lib/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="lib/jquery-ui.js"></script>
    <script type="text/javascript" src="lib/packery.pkgd.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/jquery-ui.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">

    <!--<script type="text/javascript" src="lib/bootstrap.min.js"></script>-->

    <script type="text/javascript" src="code/js/twic_control.js"></script>
    <script type="text/javascript" src="code/js/twic_data.js"></script>
    <script type="text/javascript" src="code/js/twic_level.js"></script>
    <script type="text/javascript" src="code/js/twic_panel.js"></script>
    <script type="text/javascript" src="code/js/twic_datashape.js"></script>
    <!-- <script type="text/javascript" src="lib/twic_lib.min.js"></script> -->
</head>
<body>

<div id="fb-root"></div>
<script>
    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>



            <a href="/" class="navbar-brand" title="Free bootstrap templates and snippets">
                iBootstrap.net

            </a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav hidden-xs hidden-sm">
                <li>
                    <a href="#" class="">
                        <div class="fb-like" data-href="https://www.facebook.com/ibootstrapnet-223176738035851/" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
                    </a>
                </li>
                <li>
                    <p class="navbar-text">
                        <span id="editTitle">Advanced Dropdown Search</span>
                    </p>
                </li>

            </ul>

            <ul class="nav navbar-nav hidden-xs hidden-sm">
                <li class="active"><a href="#" id="btnPreview" title="Preview the result"><span class="fa fa-play"></span> Preview</a></li>
                <li><a href="javascript:;" id="btnHtml">Html</a></li>
                <li><a href="javascript:;" id="btnCss">CSS</a></li>
                <li><a href="javascript:;" id="btnJavascript">Javascript</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">


            </ul>
            <ul class="nav navbar-nav navbar-right hidden-xs hidden-sm">


                <li><a href="javascript:;" id="btnStar"><span id="spanStar" class="fa fa-star-o"></span> Add to favorites</a></li>

                <li class="dropdown" id="userMenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Menu">
                        <span>Menu</span>
                        <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/Snippets/Create" id="btnCreate"><span class="fa fa-plus"></span> New snippet</a></li>
                        <li><a href="/Snippets/Fork/IDX3oa5" id="btnFork" data-style="expand-right"><span class="fa fa-code-fork"></span> Fork this snippet</a></li>
                        <li class="divider"> </li>
                        <li><a href="/Snippets/Download/IDX3oa5" id="btnDownload"><span class="fa fa-cloud-download"></span> Download</a></li>
                        <li><a href="/"><span class="fa fa-search"></span> Search</a></li>
                        <li class="divider"> </li>

                        <li><a href="/Account/Register" id="registerLink"><span class="glyphicon glyphicon-user"></span> Register</a></li>
                        <li><a href="/Account/Login" id="loginLink"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                    </ul>
                </li>

            </ul>


        </div>

    </div>
</div>

<div class="container-fluid">
    <div class="row vertical-divider" style="margin-top: 20px">

        <div class="col-md-2 hidden-sm hidden-xs">

            <table>
                <tr>
                    <td>
                        <a href='http://getbootstrap.com' target='ext' title="Select a Bootstrap version"><small>Bootstrap</small></a><br />
                        <select class="selectpicker span2 show-tick" data-width="85px" id="bootstrapVersion" name="bootstrapVersion"></select>
                    </td>
                    <td>&nbsp;</td>
                    <td>
                        <a href='http://jquery.com' target='ext' title="Select a jQuery version"><small>jQuery</small></a><br />
                        <select class="selectpicker span2 show-tick" data-width="85px" id="jqueryVersion" name="jqueryVersion"></select>
                    </td>
                </tr>
            </table>


            <h3>Tags</h3>

            <p>
                <a href="/?tag=navbar"><span class="label label-primary">navbar</span></a>
            </p>
            <p>
                <a href="/?tag=forms"><span class="label label-primary">forms</span></a>
            </p>
            <p>
                <a href="/?tag=search"><span class="label label-primary">search</span></a>
            </p>
            <p>
                <a href="/?tag=3.3.0"><span class="label label-primary">3.3.0</span></a>
            </p>
            <p>
                <a href="/?tag=dropdown"><span class="label label-primary">dropdown</span></a>
            </p>




        </div>

        <div class="col-md-8" style="border-style: dotted;border-right-color: #f0f0f0;border-left-color: #f0f0f0;border-bottom-color: white;border-top-color: white">

            <div id="divPreview">

                <iframe src='/Snippets/Iframe/IDX3oa5' id="iframe" width="100%" height="100%" frameborder="0" sandbox="allow-scripts allow-pointer-lock allow-same-origin allow-top-navigation"></iframe>
            </div>

            <div itemscope itemtype="http://schema.org/SoftwareSourceCode">
                <h1 itemprop="name" style="display:none;">Bootstrap Advanced Dropdown Search</h1>
                <meta itemprop="about" content="Bootstrap Snippets and Examples" />
                <div id="divHtml" itemprop="programmingLanguage" content="html">
                    <meta itemprop="codeSampleType" content="code snippet" />
                    <div id="editor">
                            <pre><code>
	&lt;div class=&quot;container&quot;&gt;
	&lt;div class=&quot;row&quot;&gt;
		&lt;div class=&quot;col-md-12&quot;&gt;
            &lt;div class=&quot;input-group&quot; id=&quot;adv-search&quot;&gt;
                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Search for snippets&quot;&gt;
                &lt;div class=&quot;input-group-btn&quot;&gt;
                    &lt;div class=&quot;btn-group&quot; role=&quot;group&quot;&gt;
                        &lt;div class=&quot;dropdown dropdown-lg&quot;&gt;
                            &lt;button type=&quot;button&quot; class=&quot;btn btn-default dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; aria-expanded=&quot;false&quot;&gt;&lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;&lt;/button&gt;
                            &lt;div class=&quot;dropdown-menu dropdown-menu-right&quot; role=&quot;menu&quot;&gt;
                                &lt;form class=&quot;form-horizontal&quot; role=&quot;form&quot;&gt;
                                  &lt;div class=&quot;form-group&quot;&gt;
                                    &lt;label for=&quot;filter&quot;&gt;Filter by&lt;/label&gt;
                                    &lt;select class=&quot;form-control&quot;&gt;
                                        &lt;option value=&quot;0&quot; selected=&quot;&quot;&gt;All Snippets
                                        &lt;option value=&quot;1&quot;&gt;Featured
                                        &lt;option value=&quot;2&quot;&gt;Most popular
                                        &lt;option value=&quot;3&quot;&gt;Top rated
                                        &lt;option value=&quot;4&quot;&gt;Most commented
                                    &lt;/select&gt;
                                  &lt;/div&gt;
                                  &lt;div class=&quot;form-group&quot;&gt;
                                    &lt;label for=&quot;contain&quot;&gt;Author&lt;/label&gt;
                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot;&gt;
                                  &lt;/div&gt;
                                  &lt;div class=&quot;form-group&quot;&gt;
                                    &lt;label for=&quot;contain&quot;&gt;Contains the words&lt;/label&gt;
                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot;&gt;
                                  &lt;/div&gt;
                                  &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-search&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&lt;/button&gt;
                                &lt;/form&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-search&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
	&lt;/div&gt;

	&lt;script type=&quot;text/javascript&quot;&gt;

	&lt;/script&gt;
</code></pre>
                    </div>
                </div>
                <div id="divCss">
                    <meta itemprop="codeSampleType" content="code snippet" />
                    <div id="editorCss">
                            <pre><code>
    body {
    padding-top: 50px;
}
.dropdown.dropdown-lg .dropdown-menu {
    margin-top: -1px;
    padding: 6px 20px;
}
.input-group-btn .btn-group {
    display: flex !important;
}
.btn-group .btn {
    border-radius: 0;
    margin-left: -1px;
}
.btn-group .btn:last-child {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}
.btn-group .form-horizontal .btn[type=&quot;submit&quot;] {
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
}
.form-horizontal .form-group {
    margin-left: 0;
    margin-right: 0;
}
.form-group .form-control:last-child {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}

@media screen and (min-width: 768px) {
    #adv-search {
        width: 500px;
        margin: 0 auto;
    }
    .dropdown.dropdown-lg {
        position: static !important;
    }
    .dropdown.dropdown-lg .dropdown-menu {
        min-width: 500px;
    }
}
    </code></pre>
                    </div>
                </div>
                <div id="divJs">
                    <meta itemprop="codeSampleType" content="code snippet" />
                    <div id="editorJs">
                            <pre><code>

	</code></pre>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="col-md-2 hidden-sm hidden-xs">

        <!-- SkycraperLarge -->


    </div>

</div>

<footer>
    <div class="container">
        <p class="pull-right">

            <script type='text/javascript'>
                <!--
                var s="=b!isfg>#0Tojqqfut0MjdfotfB#!sfm>#opgpmmpx#?Mjdfotf!gps!uijt!tojqqfu=0b?";
                m = ""; for (i = 0; i < s.length; i++) { if (s.charCodeAt(i) == 28) { m += '&'; } else if (s.charCodeAt(i) == 23) { m += '!'; } else { m += String.fromCharCode(s.charCodeAt(i) - 1); } } document.write(m);
                //-->
            </script>


        </p>
    </div>
</footer>

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-75469878-1', 'auto');
    ga('send', 'pageview');

</script>

<script>

    // TODO : call SaveTemp()
    //$("#jqueryVersion").change(function () {
    //    alert("Handler for .change() called.");
    //});

    $(document).ready(function () {

        for (version in bootstrapVersions) { $('<option>' + version + '</option>').appendTo('#bootstrapVersion') };
        for (version in jqueryVersions) { $('<option>' + version + '</option>').appendTo('#jqueryVersion') };
        $("#jqueryVersion option:contains('1.10.2')").attr('selected', 'selected');
        $("#bootstrapVersion option:contains('3.3.0')").attr('selected', 'selected');
    });

    $(document).ready(function () {

        $('#editTitle').editable();
        //$('#editTitle').editable().on('editsubmit', function (event, val) {
        //    console.log('text changed to ' + val);
        //});

        $("#divHtml").hide();
        $("#divCss").hide();
        $("#divJs").hide();
        $("#divPreview").show();

        $("#btnHtml").click(function () {
            $("#divHtml").show();
            $("#divCss").hide();
            $("#divJs").hide();
            $("#divPreview").hide();
        });

        $("#btnCss").click(function () {
            $("#divHtml").hide();
            $("#divCss").show();
            $("#divJs").hide();
            $("#divPreview").hide();
        });

        $("#btnJavascript").click(function () {
            $("#divHtml").hide();
            $("#divCss").hide();
            $("#divJs").show();
            $("#divPreview").hide();
        });

        $("#btnPreview").click(function () {
            $("#divHtml").hide();
            $("#divCss").hide();
            $("#divJs").hide();
            $("#divPreview").show();
        });

        $(".nav a").on("click", function () {
            $(".nav").find(".active").removeClass("active");
            $(this).parent().addClass("active");
        });
    });

    $(document).ready(function () {
        $("#btnStar").on("click", function () {
            $.ajax({
                url: '/Snippets/Star',
                type: 'POST',
                data: { id: 'IDX3oa5' },
                cache: false,

                success: function (response) {
                    document.getElementById("spanStar").className = "fa fa-star";
                },
                error: function (response) {
                    document.getElementById("spanStar").className = "fa fa-star-o";
                }
            });
        });
    });

    $(document).ready(function () {
        $("#btnPreview").on("click", function () {
            SaveTemp();
        });
    });

    $(document).ready(function () {
        $("#btnSave").on("click", function () {
            Save("Save");
        });
    });

    $(document).ready(function () {
        $("#btnDelete").on("click", function () {
            var btnDelete = document.querySelector('#btnDelete')
            var l = Ladda.create(btnDelete);
            l.start();
            $.ajax({
                url: '/Snippets/Delete',
                type: 'POST',
                data: {
                    id: 'IDX3oa5'
                },
                success: function (response) {
                    //window.location.replace("/");
                    history.go(-1);
                },
                error: function (response) {
                    alert("Error : you must be the creator of this snippet");
                },
                complete: function (response) {
                    l.stop();
                    $("#btnDelete").attr('class', '');
                }
            });
        });
    });

    //$(document).ready(function () {
    //    $("#btnFork").on("click", function () {
    //        Save("Fork");
    //    });
    //});

    $(function () {
        $(document).ajaxError(function (e, xhr) {
            if (xhr.status == 403) {
                var pathname = window.location.pathname;
                var response = $.parseJSON(xhr.responseText);
                window.location = response.LogOnUrl + '?ReturnUrl=' + pathname;
            }
        });
    });

    function Save(action) {
        var btnSave = document.querySelector('#btnSave')
        var l = Ladda.create(btnSave);
        l.start();
        $.ajax({
            url: '/Snippets/' + action,
            type: 'POST',
            data: {
                id: 'IDX3oa5',
                title: $("#editTitle")[0].innerText,
                html: ace.edit("editor").getValue(),
                css: ace.edit("editorCss").getValue(),
                js: ace.edit("editorJs").getValue(),
                jquery: $("#jqueryVersion").find(":selected").text(),
                bootstrap: $("#bootstrapVersion").find(":selected").text()
            },
            cache: false,
            success: function (response) {
                document.getElementById('iframe').contentWindow.location.reload(true);
            },
            error: function (response) {
                alert("Error : you must be the creator of this snippet");
            },
            complete: function (response) {
                l.stop();
                $("#btnSave").attr('class', '');
            }
        });
    }

    function SaveTemp() {
        $.ajax({
            url: '/Snippets/SaveTemp',
            type: 'POST',
            data: {
                id: 'IDX3oa5',
                title: $("#editTitle")[0].innerText,
                html: ace.edit("editor").getValue(),
                css: ace.edit("editorCss").getValue(),
                js: ace.edit("editorJs").getValue(),
                jquery: $("#jqueryVersion").find(":selected").text(),
                bootstrap: $("#bootstrapVersion").find(":selected").text()
            },
            cache: false,
            success: function (response) {
                document.getElementById('iframe').contentWindow.location.reload(true);
            }
        });
    }
</script>


<script>
    window.onload = function () {
        var editor = ace.edit("editor");
        editor.session.setMode("ace/mode/html");
        editor.setFontSize(14);
        AddCommand(editor);

        var editorCss = ace.edit("editorCss");
        editorCss.session.setMode("ace/mode/css");
        editorCss.setFontSize(14);
        AddCommand(editorCss);

        var editorJs = ace.edit("editorJs");
        editorJs.session.setMode("ace/mode/javascript");
        editorJs.setFontSize(14);
        AddCommand(editorJs);

        //var beautify = ace.require("ace/ext/beautify");
        //beautify.beautify(editor.session);

        function AddCommand(param) {
            param.commands.addCommand({
                name: 'saveFile',
                bindKey: {
                    win: 'Ctrl-S',
                    mac: 'Command-S',
                    sender: 'editor|cli'
                },
                exec: function (env, args, request) {
                    Save("Save");
                }
            });
        }

    };

</script>

</body>
</html>

